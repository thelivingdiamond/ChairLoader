set(THIS_PROJECT CryNetwork)

project( ${THIS_PROJECT} )

#START-FILE-LIST
# File List auto generated by waf2cmake.py, do not modify manually.

set (SourceGroup_AntiCheat
	AntiCheat/DefenceContext.cpp
	AntiCheat/DefenceContext.h
	AntiCheat/DefenceData.cpp
	AntiCheat/DefenceData.h
)
source_group("AntiCheat" FILES ${SourceGroup_AntiCheat})


set (SourceGroup_Compression
	Compression/AdaptiveBoolPolicy.cpp
	Compression/AdaptiveBoolPolicy2.cpp
	Compression/AdaptiveFloat.cpp
	Compression/AdaptiveFloat.h
	Compression/AdaptiveFloatPolicy.cpp
	Compression/AdaptiveOrientationPolicy.cpp
	Compression/AdaptiveUnitVec3Policy.cpp
	Compression/AdaptiveVec3Policy.cpp
	Compression/AdaptiveVelocity.cpp
	Compression/AdaptiveVelocity.h
	Compression/AdaptiveVelocityPolicy.cpp
	Compression/ArithAlphabet.cpp
	Compression/ArithAlphabet.h
	Compression/ArithModel.cpp
	Compression/ArithModel.h
	Compression/ArithPrimitives.cpp
	Compression/ArithPrimitives.h
	Compression/BiggerOrSmallerPolicy.cpp
	Compression/BoolCompress.cpp
	Compression/BoolCompress.h
	Compression/BoolCompress2.cpp
	Compression/BoolCompress2.h
	Compression/CompressionManager.cpp
	Compression/CompressionManager.h
	Compression/DefaultPolicy.cpp
	Compression/EntityIdPolicy.cpp
	Compression/FloatAsIntPolicy.cpp
	Compression/GaussianEncoding.cpp
	Compression/GaussianEncoding.h
	Compression/GaussianEncoding_SlotData.h
	Compression/ICompressionPolicy.h
	Compression/ICompressionPolicy2.h
	Compression/IntegerValuePredictor.cpp
	Compression/IntegerValuePredictor.h
	Compression/JumpyPolicy.cpp
	Compression/NoSendPolicy.cpp
	Compression/OwnChannelCompressionPolicy.cpp
	Compression/OwnChannelCompressionPolicy.h
	Compression/QuantizedVec3.cpp
	Compression/Quantizer.cpp
	Compression/Quantizer.h
	Compression/RangedIntPolicy.cpp
	Compression/RangedIntPolicy.h
	Compression/RangedUnsignedIntPolicy.cpp
	Compression/RangedUnsignedIntPolicy.h
	Compression/SegmentedCompressionSpace.cpp
	Compression/SegmentedCompressionSpace.h
	Compression/SerializationChunk.cpp
	Compression/SerializationChunk.h
	Compression/StationaryInteger.cpp
	Compression/StationaryInteger.h
	Compression/StationaryUnsignedInteger.cpp
	Compression/StationaryUnsignedInteger.h
	Compression/StringTable.cpp
	Compression/StringTable.h
	Compression/StringTablePolicy.cpp
	Compression/TimePolicy.cpp
	Compression/Vec3TableCompressor.cpp
)
source_group("Compression" FILES ${SourceGroup_Compression})


set (SourceGroup_Context
	Context/Authentication.cpp
	Context/Authentication.h
	Context/BreakagePlayback.cpp
	Context/BreakagePlayback.h
	Context/CET_Server.cpp
	Context/CET_Server.h
	Context/ChangeList.h
	Context/ClientContextView.cpp
	Context/ClientContextView.h
	Context/ContextEstablisher.cpp
	Context/ContextEstablisher.h
	Context/ContextView.cpp
	Context/ContextView.h
	Context/ContextViewStateManager.cpp
	Context/ContextViewStateManager.h
	Context/DemoDefinitions.h
	Context/DemoPlaybackListener.cpp
	Context/DemoPlaybackListener.h
	Context/DemoRecordListener.cpp
	Context/DemoRecordListener.h
	Context/IContextViewExtension.h
	Context/INetContextListener.h
	Context/INetContextState.h
	Context/NetContext.cpp
	Context/NetContext.h
	Context/NetContextState.cpp
	Context/NetContextState.h
	Context/PeerContextView.cpp
	Context/PeerContextView.h
	Context/PerformBreakage.cpp
	Context/PerformBreakage.h
	Context/RMILogger.h
	Context/ServerContextView.cpp
	Context/ServerContextView.h
	Context/SessionID.cpp
	Context/SessionID.h
	Context/SyncContext.h
	Context/SyncedFile.cpp
	Context/SyncedFile.h
	Context/SyncedFilePak.cpp
	Context/SyncedFilePak.h
	Context/SyncedFileSet.cpp
	Context/SyncedFileSet.h
	Context/UpdateAspectDataContext.cpp
	Context/UpdateAspectDataContext.h
	Context/UpdateMessage.cpp
	Context/UpdateMessage.h
)
source_group("Context" FILES ${SourceGroup_Context})


set (SourceGroup_Context_History
	Context/History/AuthorityHistory.cpp
	Context/History/AuthorityHistory.h
	Context/History/ConfigurationHistory.cpp
	Context/History/ConfigurationHistory.h
	Context/History/History.cpp
	Context/History/History.h
	Context/History/MementoHistory.cpp
	Context/History/MementoHistory.h
	Context/History/ProfileHistory.cpp
	Context/History/ProfileHistory.h
	Context/History/RegularlySyncedItem.cpp
	Context/History/RegularlySyncedItem.h
)
source_group("Context\\History" FILES ${SourceGroup_Context_History})


set (SourceGroup_Cryptography
	Cryptography/StreamCipher.cpp
	Cryptography/StreamCipher.h
	Cryptography/Whirlpool.cpp
	Cryptography/Whirlpool.h
	Cryptography/rijndael.cpp
	Cryptography/rijndael.h
)
source_group("Cryptography" FILES ${SourceGroup_Cryptography})


set (SourceGroup_Debug
	NetDebugChannelViewer.cpp
	NetDebugChannelViewer.h
	NetDebugInfo.cpp
	NetDebugInfo.h
	NetDebugInternetSimulator.cpp
	NetDebugInternetSimulator.h
	NetDebugProfileViewer.cpp
	NetDebugProfileViewer.h
	NetDebugServerInfo.cpp
	NetDebugServerInfo.h
	NetDebugTrafficBandwidth.cpp
	NetDebugTrafficBandwidth.h
	NetProfile.cpp
	NetProfile.h
)
source_group("Debug" FILES ${SourceGroup_Debug})


set (SourceGroup_DebugKit
	DebugKit/DebugKit.cpp
	DebugKit/DebugKit.h
	DebugKit/DebugOutput.cpp
	DebugKit/DebugOutput.h
	DebugKit/Encoding.cpp
	DebugKit/Encoding.h
	DebugKit/NetVis.cpp
	DebugKit/NetVis.h
	DebugKit/NetworkInspector.cpp
	DebugKit/NetworkInspector.h
	DebugKit/ServerProfiler.cpp
	DebugKit/ServerProfiler.h
)
source_group("Debug Kit" FILES ${SourceGroup_DebugKit})


set (SourceGroup_Http
	Http/AutoConfigDownloader.cpp
	Http/AutoConfigDownloader.h
	Http/SimpleHttpServer.cpp
	Http/SimpleHttpServer.h
	Http/cry_sha1.cpp
	Http/cry_sha1.h
)
source_group("Http" FILES ${SourceGroup_Http})


set (SourceGroup_Main
	AutoFreeHandle.h
	Config.h
	CryNetwork.cpp
	DistributedLogger.cpp
	DistributedLogger.h
	Errors.h
	FixedSizeArena.h
	INetworkMember.h
	INetworkPrivate.h
	MementoMemoryManager.cpp
	MementoMemoryManager.h
	NetCVars.cpp
	NetCVars.h
	NetLog.cpp
	NetLog.h
	NetTimer.cpp
	NetTimer.h
	Network.cpp
	Network.h
	PolymorphicQueue.h
	STLMementoAllocator.h
	Utils.cpp
	Utils.h
	WorkQueue.cpp
	WorkQueue.h
	objcnt.h
	objcnt_defs.h
)
source_group("Main" FILES ${SourceGroup_Main})


set (SourceGroup_Protocol
	Protocol/BandwidthCalculator.cpp
	Protocol/BandwidthCalculator.h
	Protocol/CTPEndpoint.cpp
	Protocol/CTPEndpoint.h
	Protocol/ExponentialKeyExchange.cpp
	Protocol/ExponentialKeyExchange.h
	Protocol/FrameTypes.cpp
	Protocol/FrameTypes.h
	Protocol/ICTPEndpointListener.h
	Protocol/INubMember.h
	Protocol/MessageMapper.cpp
	Protocol/MessageMapper.h
	Protocol/MessageQueue.cpp
	Protocol/MessageQueue.h
	Protocol/NetChannel.cpp
	Protocol/NetChannel.h
	Protocol/NetNub.cpp
	Protocol/NetNub.h
	Protocol/NewMessageQueue.cpp
	Protocol/NewMessageQueue.h
	Protocol/NullSendable.cpp
	Protocol/NullSendable.h
	Protocol/PMTUDiscovery.cpp
	Protocol/PMTUDiscovery.h
	Protocol/PacketRateCalculator.cpp
	Protocol/PacketRateCalculator.h
	Protocol/Serialize.cpp
	Protocol/Serialize.h
	Protocol/StatsCollector.cpp
	Protocol/StatsCollector.h
)
source_group("Protocol" FILES ${SourceGroup_Protocol})


set (SourceGroup_RCon
	RemoteControl/Protocol.h
	RemoteControl/RemoteControl.cpp
	RemoteControl/RemoteControl.h
)
source_group("RCon" FILES ${SourceGroup_RCon})


set (SourceGroup_Root
	StdAfx.cpp
	StdAfx.h
	resource.h
)


set (SourceGroup_Services
	Services/NetworkACL/NetProfileTokens.cpp
	Services/NetworkACL/NetProfileTokens.h
	Services/ServiceManager.cpp
	Services/ServiceManager.h
)
source_group("Services" FILES ${SourceGroup_Services})


set (SourceGroup_Services_CryLAN
	Services/CryLAN/LanQueryListener.cpp
	Services/CryLAN/LanQueryListener.h
)
source_group("Services\\CryLAN" FILES ${SourceGroup_Services_CryLAN})


set (SourceGroup_SocketLibrary
	Socket/CompositeDatagramSocket.cpp
	Socket/CompositeDatagramSocket.h
	Socket/IDatagramSocket.cpp
	Socket/IDatagramSocket.h
	Socket/ISocketIOManager.cpp
	Socket/ISocketIOManager.h
	Socket/IStreamSocket.cpp
	Socket/IStreamSocket.h
	Socket/InternetSimulatorSocket.cpp
	Socket/InternetSimulatorSocket.h
	Socket/LocalDatagramSocket.cpp
	Socket/LocalDatagramSocket.h
	Socket/NetAddress.cpp
	Socket/NetAddress.h
	Socket/SocketError.cpp
	Socket/SocketError.h
	Socket/SocketIOManagerDurango.cpp
	Socket/SocketIOManagerDurango.h
	Socket/SocketIOManagerIOCP.cpp
	Socket/SocketIOManagerIOCP.h
	Socket/SocketIOManagerLobbyIDAddr.cpp
	Socket/SocketIOManagerLobbyIDAddr.h
	Socket/SocketIOManagerNull.h
	Socket/SocketIOManagerSelect.cpp
	Socket/SocketIOManagerSelect.h
	Socket/TCPStreamSocket.cpp
	Socket/TCPStreamSocket.h
	Socket/UDPDatagramSocket.cpp
	Socket/UDPDatagramSocket.h
	Socket/WatchdogTimer.cpp
	Socket/WatchdogTimer.h
)
source_group("Socket Library" FILES ${SourceGroup_SocketLibrary})


set (SourceGroup_Streams
	Streams/ArithStream.h
	Streams/ByteStream.cpp
	Streams/ByteStream.h
	Streams/CommStream.h
	Streams/CompressingStream.cpp
	Streams/CompressingStream.h
	Streams/SimpleInputStream.cpp
	Streams/SimpleInputStream.h
	Streams/SimpleOutputStream.cpp
	Streams/SimpleOutputStream.h
	Streams/SimpleStreamDefs.h
)
source_group("Streams" FILES ${SourceGroup_Streams})


set (SourceGroup_VOIP
	Context/VoiceContext.cpp
	Context/VoiceContext.h
	VOIP/IVoiceDecoder.cpp
	VOIP/IVoiceDecoder.h
	VOIP/IVoiceEncoder.cpp
	VOIP/IVoiceEncoder.h
	VOIP/IVoicePacketListener.h
	VOIP/SpeexCodec.cpp
	VOIP/VoiceManager.cpp
	VOIP/VoiceManager.h
	VOIP/VoicePacket.cpp
	VOIP/VoicePacket.h
)
source_group("VOIP" FILES ${SourceGroup_VOIP})


# Support unity build with uber files
set(CryNetwork_protocol_uber_cpp ${SourceGroup_Protocol}  )
enable_unity_build( "CryNetwork_protocol_uber.cpp" CryNetwork_protocol_uber_cpp )

set(CryNetwork_socket_uber_cpp ${SourceGroup_SocketLibrary}  )
enable_unity_build( "CryNetwork_socket_uber.cpp" CryNetwork_socket_uber_cpp )

set(CryNetwork_uber_0_cpp ${SourceGroup_Compression} ${SourceGroup_Streams}  )
enable_unity_build( "CryNetwork_uber_0.cpp" CryNetwork_uber_0_cpp )

set(CryNetwork_uber_1_cpp ${SourceGroup_Cryptography} ${SourceGroup_Main} ${SourceGroup_RCon}  )
enable_unity_build( "CryNetwork_uber_1.cpp" CryNetwork_uber_1_cpp )

set(CryNetwork_uber_2_cpp ${SourceGroup_Context} ${SourceGroup_Context_History} ${SourceGroup_Services} ${SourceGroup_Services_CryLAN}  )
enable_unity_build( "CryNetwork_uber_2.cpp" CryNetwork_uber_2_cpp )

set(CryNetwork_uber_3_cpp ${SourceGroup_DebugKit} ${SourceGroup_Http} ${SourceGroup_VOIP}  )
enable_unity_build( "CryNetwork_uber_3.cpp" CryNetwork_uber_3_cpp )

set(CryNetwork_uber_4_cpp ${SourceGroup_AntiCheat} ${SourceGroup_Debug}  )
enable_unity_build( "CryNetwork_uber_4.cpp" CryNetwork_uber_4_cpp )

set(NoUberFile ${SourceGroup_Root}  )


set (SOURCES
	${CryNetwork_protocol_uber_cpp}
	${CryNetwork_socket_uber_cpp}
	${CryNetwork_uber_0_cpp}
	${CryNetwork_uber_1_cpp}
	${CryNetwork_uber_2_cpp}
	${CryNetwork_uber_3_cpp}
	${CryNetwork_uber_4_cpp}
	${NoUberFile}
)
#END-FILE-LIST


include_directories( ${CMAKE_CURRENT_SOURCE_DIR} )

if(WIN32)
	include_directories( ${CMAKE_CURRENT_SOURCE_DIR}/../../SDKs/speex-1.0.5/include )
	link_directories( ${SDK_DIR}/speex-1.0.5/lib/win32 )
endif(WIN32)

# Exlude files from Build
set_source_files_properties( ${SourceGroup_Service__GameSpy} PROPERTIES HEADER_FILE_ONLY TRUE)

add_library( ${THIS_PROJECT} ${SOURCES})

# Exclude Default libcmt.lib library
set_target_properties( ${THIS_PROJECT} PROPERTIES LINK_FLAGS "/NODEFAULTLIB:libcmt") 
set_target_properties( ${THIS_PROJECT} PROPERTIES LINK_FLAGS "/NODEFAULTLIB:libcmtd") 

target_link_libraries( ${THIS_PROJECT} bigdigits )

if(WIN32)
	target_link_libraries( ${THIS_PROJECT} winmm Shlwapi wininet Wsock32 Ws2_32 psapi Iphlpapi )
endif(WIN32)

if(DURANGO)
	target_link_libraries( ${THIS_PROJECT} Ws2_32 )
endif(DURANGO)

USE_MSVC_PRECOMPILED_HEADER( ${THIS_PROJECT} "StdAfx.h" "StdAfx.cpp" )

SET_PLATFORM_TARGET_PROPERTIES( ${THIS_PROJECT} )
