set(THIS_PROJECT Cry3DEngine)

project( ${THIS_PROJECT} )

#START-FILE-LIST
# File List auto generated by waf2cmake.py, do not modify manually.

set (SourceGroup_3DEngine
	3DEngineLight.cpp
	3DEngineRender.cpp
	3DEngine_Jobs.cpp
	3dEngine.cpp
	3dEngine.h
	3dEngineLoad.cpp
	BreezeGenerator.cpp
	BreezeGenerator.h
	LightVolumeManager.cpp
	LightVolumeManager.h
	PhysCallbacks.cpp
	PhysCallbacks.h
	VisibleRenderNodeManager.cpp
	VisibleRenderNodeManager.h
)
source_group("3DEngine" FILES ${SourceGroup_3DEngine})


set (SourceGroup_Brush
	Brush.cpp
	Brush.h
	Brush_Jobs.cpp
)
source_group("Brush" FILES ${SourceGroup_Brush})


set (SourceGroup_CBuffer
	CCullRenderer.cpp
	CCullRenderer.h
	CCullThread.cpp
	CCullThread.h
	PolygonClipContext.cpp
	PolygonClipContext.h
	VMath.hpp
	VMath_C.hpp
	VMath_Prototypes.hpp
	VMath_SSE.hpp
)
source_group("CBuffer" FILES ${SourceGroup_CBuffer})


set (SourceGroup_CFG
	CGF/CGFLoader.cpp
	CGF/CGFLoader.h
	CGF/CGFSaver.cpp
	CGF/CGFSaver.h
	CGF/ChunkData.h
	CGF/ChunkFile.cpp
	CGF/ChunkFile.h
	CGF/ChunkFileReaders.cpp
	CGF/ChunkFileReaders.h
	CGF/ChunkFileWriters.cpp
	CGF/ChunkFileWriters.h
	CGF/ReadOnlyChunkFile.cpp
	CGF/ReadOnlyChunkFile.h
)
source_group("CFG" FILES ${SourceGroup_CFG})


set (SourceGroup_CVars
	cvars.cpp
	cvars.h
)
source_group("CVars" FILES ${SourceGroup_CVars})


set (SourceGroup_ClipVolumes
	ClipVolume.cpp
	ClipVolume.h
	ClipVolumeManager.cpp
	ClipVolumeManager.h
)
source_group("ClipVolumes" FILES ${SourceGroup_ClipVolumes})


set (SourceGroup_Effects_Clounds
	CloudRenderNode.cpp
	CloudRenderNode.h
	CloudsManager.cpp
	CloudsManager.h
	DistanceCloudRenderNode.cpp
	DistanceCloudRenderNode.h
)
source_group("Effects\\Clounds" FILES ${SourceGroup_Effects_Clounds})


set (SourceGroup_Effects_Decals
	Decal.cpp
	DecalManager.cpp
	DecalManager.h
	DecalRenderNode.cpp
	DecalRenderNode.h
)
source_group("Effects\\Decals" FILES ${SourceGroup_Effects_Decals})


set (SourceGroup_Effects_FogVolumes
	FogVolumeRenderNode.cpp
	FogVolumeRenderNode.h
	FogVolumeRenderNode_Jobs.cpp
)
source_group("Effects\\FogVolumes" FILES ${SourceGroup_Effects_FogVolumes})


set (SourceGroup_Effects_LightPropagationVolumes
	GlobalIllumination.cpp
	GlobalIllumination.h
	LPVRenderNode.cpp
	LPVRenderNode.h
)
source_group("Effects\\LightPropagationVolumes" FILES ${SourceGroup_Effects_LightPropagationVolumes})


set (SourceGroup_Effects_Optics
	OpticsManager.cpp
	OpticsManager.h
)
source_group("Effects\\Optics" FILES ${SourceGroup_Effects_Optics})


set (SourceGroup_Effects_Particles
	Particle.cpp
	Particle.h
	ParticleContainer.cpp
	ParticleContainer.h
	ParticleEffect.cpp
	ParticleEffect.h
	ParticleEmitter.cpp
	ParticleEmitter.h
	ParticleEnviron.cpp
	ParticleEnviron.h
	ParticleFixedSizeElementPool.cpp
	ParticleFixedSizeElementPool.h
	ParticleList.h
	ParticleManager.cpp
	ParticleManager.h
	ParticleMemory.cpp
	ParticleMemory.h
	ParticleRender.cpp
	ParticleSubEmitter.cpp
	ParticleSubEmitter.h
	ParticleUtils.h
)
source_group("Effects\\Particles" FILES ${SourceGroup_Effects_Particles})


set (SourceGroup_Effects_SkyLight
	SkyLightManager.cpp
	SkyLightManager.h
	SkyLightNishita.cpp
	SkyLightNishita.h
	SkyLightNishita_info.h
)
source_group("Effects\\SkyLight" FILES ${SourceGroup_Effects_SkyLight})


set (SourceGroup_Effects_VolumeObject
	VolumeObjectDataCreate.cpp
	VolumeObjectDataCreate.h
	VolumeObjectRenderNode.cpp
	VolumeObjectRenderNode.h
)
source_group("Effects\\VolumeObject" FILES ${SourceGroup_Effects_VolumeObject})


set (SourceGroup_Environment
	EnvironmentPreset.cpp
	EnvironmentPreset.h
	TimeOfDay.cpp
	TimeOfDay.h
)
source_group("Environment" FILES ${SourceGroup_Environment})


set (SourceGroup_GeomCache
	GeomCache.cpp
	GeomCache.h
	GeomCacheDecoder.cpp
	GeomCacheDecoder.h
	GeomCacheManager.cpp
	GeomCacheManager.h
	GeomCacheMeshManager.cpp
	GeomCacheMeshManager.h
	GeomCacheRenderNode.cpp
	GeomCacheRenderNode.h
)
source_group("GeomCache" FILES ${SourceGroup_GeomCache})


set (SourceGroup_LightEntity
	LightEntity.cpp
	LightEntity.h
)
source_group("Light Entity" FILES ${SourceGroup_LightEntity})


set (SourceGroup_Material
	MatMan.cpp
	MatMan.h
	Material.cpp
	Material.h
	MaterialHelpers.cpp
	MaterialHelpers.h
	Material_Jobs.cpp
	SurfaceTypeManager.cpp
	SurfaceTypeManager.h
)
source_group("Material" FILES ${SourceGroup_Material})


set (SourceGroup_MeshCompiler
	../../SDKs/TangentBasisComputation/mikkelsen/mikktspace.cpp
	../../SDKs/TangentBasisComputation/mikkelsen/mikktspace.h
	MeshCompiler/ForsythFaceReorderer.cpp
	MeshCompiler/ForsythFaceReorderer.h
	MeshCompiler/MeshCompiler.cpp
	MeshCompiler/MeshCompiler.h
	MeshCompiler/TangentSpaceCalculation.cpp
	MeshCompiler/TangentSpaceCalculation.h
	MeshCompiler/TransformHelpers.h
)
source_group("Mesh Compiler" FILES ${SourceGroup_MeshCompiler})


set (SourceGroup_ObjectManager
	ObjMan.cpp
	ObjMan.h
	ObjManCullQueue.cpp
	ObjManCullQueue.h
	ObjManDraw.cpp
	ObjManDrawEntity.cpp
	ObjManFar.cpp
	ObjManShadows.cpp
	ObjManStreaming.cpp
)
source_group("Object Manager" FILES ${SourceGroup_ObjectManager})


set (SourceGroup_ObjectsTree
	ObjectsTree.cpp
	ObjectsTree.h
	ObjectsTree_Jobs.cpp
	ObjectsTree_MT.cpp
	ObjectsTree_Serialize.cpp
	ObjectsTree_Serialize_info.h
)
source_group("Objects Tree" FILES ${SourceGroup_ObjectsTree})


set (SourceGroup_PostProcess
	PostProcessEffects.cpp
)
source_group("PostProcess" FILES ${SourceGroup_PostProcess})


set (SourceGroup_RenderMeshUtils
	MergedMeshGeometry.cpp
	MergedMeshGeometry.h
	RenderMeshMerger.cpp
	RenderMeshMerger.h
	RenderMeshUtils.cpp
	RenderMeshUtils.h
)
source_group("RenderMeshUtils" FILES ${SourceGroup_RenderMeshUtils})


set (SourceGroup_RenderNodes
	DeformableNode.h
	MergedMeshRenderNode.cpp
	MergedMeshRenderNode.h
	PrismRenderNode.cpp
	PrismRenderNode.h
)
source_group("RenderNodes" FILES ${SourceGroup_RenderNodes})


set (SourceGroup_RenderNodes_Breakables
	BreakableGlassRenderNode.cpp
	BreakableGlassRenderNode.h
)
source_group("RenderNodes\\Breakables" FILES ${SourceGroup_RenderNodes_Breakables})


set (SourceGroup_RenderNodes_Roads
	RoadRenderNode.cpp
	RoadRenderNode.h
)
source_group("RenderNodes\\Roads" FILES ${SourceGroup_RenderNodes_Roads})


set (SourceGroup_RenderNodes_Ropes
	RopeRenderNode.cpp
	RopeRenderNode.h
)
source_group("RenderNodes\\Ropes" FILES ${SourceGroup_RenderNodes_Ropes})


set (SourceGroup_Root
	3DEngineMemory.cpp
	3DEngineMemory.h
	Array2d.h
	Cry3DEngine.cpp
	Cry3DEngineBase.h
	DeferredCollisionEvent.cpp
	DeferredCollisionEvent.h
	GeomCachePredictors.h
	StdAfx.cpp
	StdAfx.h
	resource.h
)


set (SourceGroup_SVO
	SVO/BlockPacker.cpp
	SVO/BlockPacker.h
	SVO/SceneTree.cpp
	SVO/SceneTree.h
	SVO/SceneTreeCVars.inl
	SVO/SceneTreeManager.cpp
	SVO/SceneTreeManager.h
	SVO/VoxelSegment.cpp
	SVO/VoxelSegment.h
)
source_group("SVO" FILES ${SourceGroup_SVO})


set (SourceGroup_Shadows
	ShadowCache.cpp
	ShadowCache.h
)
source_group("Shadows" FILES ${SourceGroup_Shadows})


set (SourceGroup_StatObj
	IndexedMesh.cpp
	IndexedMesh.h
	StatObj.h
	StatObjConstr.cpp
	StatObjFar.cpp
	StatObjLoad.cpp
	StatObjPhys.cpp
	StatObjRend.cpp
	StatObjStream.cpp
	StatObj_Jobs.cpp
)
source_group("StatObj" FILES ${SourceGroup_StatObj})


set (SourceGroup_Terrain
	TerrainModifications.cpp
	TerrainModifications.h
	TerrainTextureCache.cpp
	terrain.cpp
	terrain.h
	terrain_compile.cpp
	terrain_compile_info.h
	terrain_damage.cpp
	terrain_det_tex.cpp
	terrain_hmap.cpp
	terrain_hmap_occlusion.cpp
	terrain_init.cpp
	terrain_light.cpp
	terrain_load.cpp
	terrain_render.cpp
	terran_edit.cpp
)
source_group("Terrain" FILES ${SourceGroup_Terrain})


set (SourceGroup_Terrain_Sector
	terrain_node.cpp
	terrain_node_compile.cpp
	terrain_sector.cpp
	terrain_sector.h
	terrain_sector_beach.cpp
	terrain_sector_info.h
	terrain_sector_render.cpp
	terrain_sector_tex.cpp
)
source_group("Terrain\\Sector" FILES ${SourceGroup_Terrain_Sector})


set (SourceGroup_Vegetation
	Vegetation.cpp
	Vegetation.h
)
source_group("Vegetation" FILES ${SourceGroup_Vegetation})


set (SourceGroup_VisAreas
	BasicArea.cpp
	BasicArea.h
	VisAreaCompile.cpp
	VisAreaCompile_info.h
	VisAreaMan.cpp
	VisAreaManCompile.cpp
	VisArea_Jobs.cpp
	VisAreas.cpp
	VisAreas.h
)
source_group("VisAreas" FILES ${SourceGroup_VisAreas})


set (SourceGroup_Water
	WaterVolumeRenderNode.cpp
	WaterVolumeRenderNode.h
	WaterWaveRenderNode.cpp
	WaterWaveRenderNode.h
	terrain_water.h
	terrain_water_quad.cpp
)
source_group("Water" FILES ${SourceGroup_Water})


# Support unity build with uber files
set(Cry3DEngine_CBuffer_cpp ${SourceGroup_CBuffer}  )
enable_unity_build( "Cry3DEngine_CBuffer.cpp" Cry3DEngine_CBuffer_cpp )

set(Cry3DEngine_main_0_uber_cpp ${SourceGroup_Effects_SkyLight} ${SourceGroup_Environment} ${SourceGroup_LightEntity} ${SourceGroup_Material} ${SourceGroup_PostProcess} ${SourceGroup_RenderMeshUtils} ${SourceGroup_Shadows} ${SourceGroup_Vegetation}  )
enable_unity_build( "Cry3DEngine_main_0_uber.cpp" Cry3DEngine_main_0_uber_cpp )

set(Cry3DEngine_main_1_uber_cpp ${SourceGroup_3DEngine} ${SourceGroup_ClipVolumes} ${SourceGroup_RenderNodes_Breakables} ${SourceGroup_VisAreas}  )
enable_unity_build( "Cry3DEngine_main_1_uber.cpp" Cry3DEngine_main_1_uber_cpp )

set(Cry3DEngine_main_2_uber_cpp ${SourceGroup_Brush} ${SourceGroup_CFG} ${SourceGroup_CVars} ${SourceGroup_Effects_Clounds} ${SourceGroup_MeshCompiler}  )
enable_unity_build( "Cry3DEngine_main_2_uber.cpp" Cry3DEngine_main_2_uber_cpp )

set(Cry3DEngine_main_3_uber_cpp ${SourceGroup_Effects_Decals} ${SourceGroup_Effects_FogVolumes} ${SourceGroup_Effects_LightPropagationVolumes} ${SourceGroup_Effects_Optics} ${SourceGroup_GeomCache} ${SourceGroup_RenderNodes} ${SourceGroup_RenderNodes_Roads} ${SourceGroup_RenderNodes_Ropes} ${SourceGroup_SVO}  )
enable_unity_build( "Cry3DEngine_main_3_uber.cpp" Cry3DEngine_main_3_uber_cpp )

set(Cry3DEngine_objects_uber_cpp ${SourceGroup_ObjectManager} ${SourceGroup_ObjectsTree} ${SourceGroup_StatObj}  )
enable_unity_build( "Cry3DEngine_objects_uber.cpp" Cry3DEngine_objects_uber_cpp )

set(Cry3DEngine_particles_uber_cpp ${SourceGroup_Effects_Particles}  )
enable_unity_build( "Cry3DEngine_particles_uber.cpp" Cry3DEngine_particles_uber_cpp )

set(Cry3DEngine_terrain_uber_cpp ${SourceGroup_Terrain} ${SourceGroup_Terrain_Sector}  )
enable_unity_build( "Cry3DEngine_terrain_uber.cpp" Cry3DEngine_terrain_uber_cpp )

set(Cry3DEngine_volume_water_uber_cpp ${SourceGroup_Effects_VolumeObject} ${SourceGroup_Water}  )
enable_unity_build( "Cry3DEngine_volume_water_uber.cpp" Cry3DEngine_volume_water_uber_cpp )

set(NoUberFile ${SourceGroup_Root}  )


set (SOURCES
	${Cry3DEngine_CBuffer_cpp}
	${Cry3DEngine_main_0_uber_cpp}
	${Cry3DEngine_main_1_uber_cpp}
	${Cry3DEngine_main_2_uber_cpp}
	${Cry3DEngine_main_3_uber_cpp}
	${Cry3DEngine_objects_uber_cpp}
	${Cry3DEngine_particles_uber_cpp}
	${Cry3DEngine_terrain_uber_cpp}
	${Cry3DEngine_volume_water_uber_cpp}
	${NoUberFile}
)
#END-FILE-LIST


include_directories( ${CMAKE_CURRENT_SOURCE_DIR} )
include_directories( ${SDK_DIR}/lz4/lib )

add_library( ${THIS_PROJECT} ${SOURCES})
target_link_libraries( ${THIS_PROJECT} CryParticleSystem )
target_link_libraries( ${THIS_PROJECT} lz4 )

USE_MSVC_PRECOMPILED_HEADER( ${THIS_PROJECT} "StdAfx.h" "StdAfx.cpp" )

SET_PLATFORM_TARGET_PROPERTIES( ${THIS_PROJECT} )